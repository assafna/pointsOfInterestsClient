<h1><center>Your Favourite Points of Intrests</center></h1>

<label>Search by Category:</label>
  <select ng-model="fpoiCtrl.chosenCategory" ng-options="category.Category_id[0] as category.Category_name for category in fpoiCtrl.categories"></select>
  <label>Sort By Rank:</label>
  <input type="checkbox" ng-model="fpoiCtrl.sortByRate">

<div ng-show="!poiCtrl.sortByRate">
  <!-- show specific category -->
  <div  ng-show = "poiCtrl.chosenCategory != 5">
    <h1 class="category-header">{{poiCtrl.categories[poiCtrl.chosenCategory].Category_name}}</h1>
  <div id= "img-poi" ng-repeat="poi in poiCtrl.pois | filter: { poiInfo: {Category : poiCtrl.chosenCategory}} | lowercase | filter : poiCtrl.search  as results" class="responsive">
      <div class="gallery">
        <img src="{{poi.poiInfo.ImgPath}}" height="100" ng-click="poiCtrl.showPoiDetails(poi.poiInfo.POI_id)">
        <div class="desc">{{poi.poiInfo.POI_name}}
            <div ng-show="poiCtrl.loggedIn">
                <span id="star" ng-click="poiCtrl.addToFavourite(poi.poiInfo.POI_id)" ng-class="{checked: poi.checked}">&#9733;</span>
                <button ng-click="poiCtrl.openReviewDialog(poi.poiInfo.POI_id, poi.poiInfo.POI_name)">Review</button>      
              </div>     
        </div>

      </div>
    </div>
  </div>

<div id="img-poi" ng-repeat="poi in fpoiCtrl.savedPOI" class="responsive">
        <div class="gallery">
          <img src="{{poi.poiInfo.ImgPath}}" height="100" ng-click="fpoiCtrl.showPoiDetails(poi.poiInfo.POI_id)">
          <div class="desc">{{$index + 1}}. {{poi.poiInfo.POI_name}}
                <span id="star" ng-click="fpoiCtrl.addToFavourite(poi.poiInfo.POI_id)" ng-class="{checked: poi.checked}">&#9733;</span>
                <br><br>
                <button ng-click="fpoiCtrl.moveUp(poi.poiInfo.POI_id)">&#8592</button> 
                <button ng-click="fpoiCtrl.moveDown(poi.poiInfo.POI_id)">&#8594</button>

        </div>
      </div>
    </div>

    <button ng-click="fpoiCtrl.saveFavListToServer()">Save my favorite list</button>

    