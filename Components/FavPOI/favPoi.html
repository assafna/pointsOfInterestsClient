<h1><center>Your Favourite Points of Intrests</center></h1>

<label>Search by Category:</label>
  <select ng-model="fpoiCtrl.chosenCategory" ng-options="category.Category_id[0] as category.Category_name for category in fpoiCtrl.categories"></select>
  <label>Sort By Rank:</label>
  <input type="checkbox" ng-model="sortByRate" ng-check="sortByRate">
  <br><br>

  <div>
    <!-- show specific category -->
    <div  ng-show = "fpoiCtrl.chosenCategory != 5">
      <h1 class="category-header">{{fpoiCtrl.categories[fpoiCtrl.chosenCategory].Category_name}}</h1>
    <div id= "img-poi" ng-repeat="poi in fpoiCtrl.savedPOI | filter: { poiInfo: {Category : fpoiCtrl.chosenCategory}} | orderBy : (sortByRate) && '-poiInfo.POI_avgRank'" class="responsive">
        <div class="gallery">
          <img src="{{poi.poiInfo.ImgPath}}" height="100" ng-click="fpoiCtrl.showPoiDetails(poi.poiInfo.POI_id)">
          <div class="desc">{{$index + 1}}. {{poi.poiInfo.POI_name}}
              <div ng-show="fpoiCtrl.loggedIn">
                  <span id="star" ng-click="fpoiCtrl.addToFavourite(poi.poiInfo.POI_id)" ng-class="{checked: fpoiCtrl.isInFavorites(poi.poiInfo.POI_id)}">&#9733;</span>
                  <button ng-click="fpoiCtrl.openReviewDialog(poi.poiInfo.POI_id, poi.poiInfo.POI_name)">Review</button>   
                  <br><br>
                  <button ng-click="fpoiCtrl.moveUp(poi.poiInfo.POI_id)">&#8592</button> 
                  <button ng-click="fpoiCtrl.moveDown(poi.poiInfo.POI_id)">&#8594</button>   
                </div>     
          </div>
  
        </div>
      </div>
    </div>
  
    <div ng-show = "fpoiCtrl.chosenCategory == 5">
    <div id= "img-poi" ng-repeat="poi in fpoiCtrl.savedPOI| orderBy : (sortByRate) && '-poiInfo.POI_avgRank'" class="responsive">
            <div class="gallery">
              <img src="{{poi.poiInfo.ImgPath}}" height="100" ng-click="fpoiCtrl.showPoiDetails(poi.poiInfo.POI_id)">
              <div class="desc">{{$index + 1}}. {{poi.poiInfo.POI_name}}
                  <div ng-show="fpoiCtrl.loggedIn">
                    <span id="star" ng-click="fpoiCtrl.addToFavourite(poi.poiInfo.POI_id)" ng-class="{checked: fpoiCtrl.isInFavorites(poi.poiInfo.POI_id)}">&#9733;</span>
                      <button ng-click="fpoiCtrl.openReviewDialog(poi.poiInfo.POI_id, poi.poiInfo.POI_name)">Review</button>   
                      <br><br>
                      <button ng-click="fpoiCtrl.moveUp(poi.poiInfo.POI_id)">&#8592</button> 
                      <button ng-click="fpoiCtrl.moveDown(poi.poiInfo.POI_id)">&#8594</button>      
                    </div>    
              </div>
            </div>
          </div>
        </div> 
  </div>
<div>
    <button ng-click="fpoiCtrl.saveFavListToServer()">Save my favorite list</button>
  </div>
  

    